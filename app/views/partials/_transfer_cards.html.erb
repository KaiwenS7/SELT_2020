<h3><%= link_to 'Game Room', room_path({:id => params[:room_id]}), :class => 'btn btn-primary' %></h3>
<h2>Transfer Card!!</h2>

  <%= form_tag piles_transfer_card_path({:room_id => params[:room_id], :source_pile_name => @source_pile.name}), :id => 'the_cards_form' do %>
  <%= label :pile, :source_pile_name, 'Transfer From:', :class => 'row-form-label' %>
  <%= select_tag "source_pile", options_from_collection_for_select(@piles, "id", "name"), :include_blank => true %>
  <%= label :pile, :destination_pile_name, 'To:', :class => 'row-form-label' %>
  <%= select_tag "destination_pile", options_from_collection_for_select(@piles, "id", "name"), :include_blank => true %>
  <% @piles.each do |pile| %>
    <% pile_table_elem_id = "pile_table_#{pile.id}" %>
    <div style="padding-top: 10px; padding-bottom: 5px; height: 210px; overflow-y: auto; display: none;">
      <table class="table table-striped card-table col-md-12" id=<%= pile_table_elem_id %> style="display:table;">
        <tbody>
        <% is_private = pile.private_pile %>
        <% pile.cards.each do |card| %>
          <tr>
            <td>
              <% if (is_private) %>
                <span style="font-size:25px; padding-right: 5px;">&#x1F0F4;</span>
                Facedown Card
              <% elsif !(is_private) %>
                <span style="font-size:25px; padding-right: 5px;">&#x<%= card.unicode_value %></span>
                <%= card.name %>
              <% end %>
            </td>
            <td>
              <%=check_box_tag "the_cards[#{card.id}]", nil, nil, {:id => "checkbox_#{card.name}"}%>
            </td>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  <% end %>
  </br>
    <%# label :pile, :name2, 'Destination Pile:', :class => 'col-form-label' %>
    <%# text_field :pile, 'name2', :class => 'form-control col-1' %>
    <br/>
    <%= submit_tag 'Transfer Card(s)', :class => 'btn btn-primary', :id => 'transfer_cards' %>
  <% end %>
  <%= button_to 'Cancel', room_path({:id => params[:room_id]}), :method => :get, :id => 'cancel' %>